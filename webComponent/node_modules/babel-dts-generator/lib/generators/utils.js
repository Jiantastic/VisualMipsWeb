"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.id = id;
exports.factory = factory;
exports.findLastIndex = findLastIndex;
function id(v) {
  return v;
}

function factory(cls) {
  function Factory() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    // eslint-disable-line consistent-return
    if (!(this instanceof Factory)) {
      // eslint-disable-line no-invalid-this
      return new (Function.prototype.bind.apply(Factory, [null].concat(args)))();
    }

    cls.apply(this, args);
  }

  Factory.prototype = Object.create(cls.prototype);
  return Factory;
}

function findLastIndex(arr, test) {
  for (var i = arr.length - 1; i >= 0; i--) {
    if (test(arr[i], i, arr)) {
      return i;
    }
  }

  return -1;
}